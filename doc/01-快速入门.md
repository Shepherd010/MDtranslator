# ğŸš€ å¿«é€Ÿå…¥é—¨

æœ¬æ–‡æ¡£å¸®åŠ©ä½ å¿«é€Ÿæ­å»ºå¼€å‘ç¯å¢ƒå¹¶è¿è¡Œ MDtranslatorã€‚

## ç›®å½•

- [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
- [è·å–ä»£ç ](#è·å–ä»£ç )
- [ç¯å¢ƒé…ç½®](#ç¯å¢ƒé…ç½®)
- [å®‰è£…ä¾èµ–](#å®‰è£…ä¾èµ–)
- [å¯åŠ¨æœåŠ¡](#å¯åŠ¨æœåŠ¡)
- [éªŒè¯è¿è¡Œ](#éªŒè¯è¿è¡Œ)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ç¯å¢ƒè¦æ±‚

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | è¯´æ˜ |
|:---|:---|:---|
| Python | â‰¥ 3.10 | æ¨è 3.11 |
| Node.js | â‰¥ 18 | æ¨è LTS ç‰ˆæœ¬ |
| Conda | æœ€æ–°ç‰ˆ | æ¨èä½¿ç”¨ï¼Œä½†éå¿…é¡» |
| Git | æœ€æ–°ç‰ˆ | ç‰ˆæœ¬æ§åˆ¶ |

### æ£€æŸ¥ç¯å¢ƒ

```bash
# æ£€æŸ¥ Python ç‰ˆæœ¬
python --version

# æ£€æŸ¥ Node.js ç‰ˆæœ¬
node --version

# æ£€æŸ¥ npm/yarn ç‰ˆæœ¬
npm --version
yarn --version
```

---

## è·å–ä»£ç 

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Shepherd010/MDtranslator.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd MDtranslator
```

---

## ç¯å¢ƒé…ç½®

### 1. åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶

```bash
# å¤åˆ¶æ¨¡æ¿
cp .env.example .env
```

### 2. é…ç½® API Key

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```env
# é€šä¹‰åƒé—® API é…ç½®
QWEN_API_KEY=your_api_key_here
QWEN_API_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
QWEN_MODEL_NAME=qwen-flash
```

#### è·å– API Key

1. è®¿é—® [é˜¿é‡Œäº‘ç™¾ç‚¼](https://bailian.console.aliyun.com/)
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. åˆ›å»º API Key
4. å°† Key å¡«å…¥ `.env` æ–‡ä»¶

> ğŸ’¡ **æç¤º**ï¼šä¹Ÿæ”¯æŒå…¶ä»– OpenAI å…¼å®¹æ¥å£ï¼Œä¿®æ”¹ `QWEN_API_URL` å³å¯ã€‚

---

## å®‰è£…ä¾èµ–

### åç«¯ä¾èµ– (Python)

```bash
# æ–¹å¼ 1ï¼šä½¿ç”¨ Condaï¼ˆæ¨èï¼‰
conda create -n mdtranslator python=3.11
conda activate mdtranslator
pip install -r backend/requirements.txt

# æ–¹å¼ 2ï¼šä½¿ç”¨ venv
python -m venv venv
source venv/bin/activate  # Linux/macOS
# æˆ– .\venv\Scripts\activate  # Windows
pip install -r backend/requirements.txt
```

### å‰ç«¯ä¾èµ– (Node.js)

```bash
cd src

# ä½¿ç”¨ yarnï¼ˆæ¨èï¼‰
yarn install

# æˆ–ä½¿ç”¨ npm
npm install
```

---

## å¯åŠ¨æœåŠ¡

### æ–¹å¼ 1ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰

**Windows (PowerShell):**
```powershell
# ç¡®ä¿å·²æ¿€æ´» conda ç¯å¢ƒ
conda activate mdtranslator

# è¿è¡Œå¯åŠ¨è„šæœ¬
.\start.ps1
```

**Linux/macOS:**
```bash
# ç¡®ä¿å·²æ¿€æ´» conda ç¯å¢ƒ
conda activate mdtranslator

# è¿è¡Œå¯åŠ¨è„šæœ¬
bash start.sh
```

### æ–¹å¼ 2ï¼šåˆ†åˆ«å¯åŠ¨

**ç»ˆç«¯ 1 - å¯åŠ¨åç«¯ï¼š**
```bash
cd backend
conda activate mdtranslator
uvicorn main:app --host 127.0.0.1 --port 8000 --reload
```

**ç»ˆç«¯ 2 - å¯åŠ¨å‰ç«¯ï¼š**
```bash
cd src
yarn dev
```

---

## éªŒè¯è¿è¡Œ

### æ£€æŸ¥æœåŠ¡çŠ¶æ€

| æœåŠ¡ | åœ°å€ | è¯´æ˜ |
|:---|:---|:---|
| å‰ç«¯ | http://localhost:3000 | ä¸»åº”ç”¨ç•Œé¢ |
| åç«¯ | http://localhost:8000 | API æœåŠ¡ |
| API æ–‡æ¡£ | http://localhost:8000/docs | Swagger UI |

### æµ‹è¯• API

```bash
# æµ‹è¯•åç«¯å¥åº·æ£€æŸ¥
curl http://localhost:8000/

# æµ‹è¯•è·å–è®¾ç½®
curl http://localhost:8000/api/settings
```

### é¢„æœŸå“åº”

```json
// GET /
{"message": "MDTranslator Backend Running"}

// GET /api/settings
{"llm_provider": "qwen", "llm_model": "qwen-flash", "temperature": 0.1, "num_chunks": 3, "auto_save": true}
```

---

## å¸¸è§é—®é¢˜

### Q1: ç«¯å£è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯ï¼š**
```
ERROR: [Errno 10048] error while attempting to bind on address ('127.0.0.1', 8000)
```

**è§£å†³æ–¹æ¡ˆï¼š**
```powershell
# Windows - æŸ¥æ‰¾å¹¶ç»“æŸå ç”¨ç«¯å£çš„è¿›ç¨‹
Get-NetTCPConnection -LocalPort 8000 | ForEach-Object { Stop-Process -Id $_.OwningProcess -Force }
```

```bash
# Linux/macOS
lsof -ti:8000 | xargs kill -9
```

### Q2: æ¨¡å—å¯¼å…¥é”™è¯¯

**é”™è¯¯ä¿¡æ¯ï¼š**
```
ModuleNotFoundError: No module named 'xxx'
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# ç¡®ä¿åœ¨æ­£ç¡®çš„ç¯å¢ƒä¸­
conda activate mdtranslator

# é‡æ–°å®‰è£…ä¾èµ–
pip install -r backend/requirements.txt
```

### Q3: API Key æ— æ•ˆ

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Invalid API Key
```

**è§£å†³æ–¹æ¡ˆï¼š**
1. æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ `QWEN_API_KEY` æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤ API Key æœªè¿‡æœŸ
3. æ£€æŸ¥æ˜¯å¦æœ‰å¤šä½™ç©ºæ ¼

### Q4: å‰ç«¯ç¼–è¯‘é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ¸…é™¤ç¼“å­˜é‡æ–°å®‰è£…
cd src
rm -rf node_modules .next
yarn install
yarn dev
```

### Q5: WebSocket è¿æ¥å¤±è´¥

**å¯èƒ½åŸå› ï¼š**
- åç«¯æœåŠ¡æœªå¯åŠ¨
- ç«¯å£é…ç½®é”™è¯¯
- é˜²ç«å¢™é˜»æ­¢

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®ä¿åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ
2. æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
3. ç¡®è®¤ 8000 ç«¯å£å¯è®¿é—®

---

## ä¸‹ä¸€æ­¥

- ğŸ“– [ç³»ç»Ÿæ¶æ„](./02-ç³»ç»Ÿæ¶æ„.md) - äº†è§£æ•´ä½“è®¾è®¡
- ğŸ’» [å‰ç«¯å¼€å‘](./03-å‰ç«¯å¼€å‘.md) - å¼€å§‹å‰ç«¯å¼€å‘
- ğŸ”§ [åç«¯å¼€å‘](./04-åç«¯å¼€å‘.md) - å¼€å§‹åç«¯å¼€å‘

---

> é‡åˆ°é—®é¢˜ï¼Ÿè¯·æäº¤ [Issue](https://github.com/Shepherd010/MDtranslator/issues)
