# ğŸ’» å‰ç«¯å¼€å‘

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç» MDtranslator å‰ç«¯çš„æ¶æ„è®¾è®¡ã€ç»„ä»¶å®ç°å’Œå¼€å‘æŒ‡å—ã€‚

## ç›®å½•

- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
- [çŠ¶æ€ç®¡ç†](#çŠ¶æ€ç®¡ç†)
- [è‡ªå®šä¹‰ Hooks](#è‡ªå®šä¹‰-hooks)
- [API å±‚](#api-å±‚)
- [æ ·å¼ç³»ç»Ÿ](#æ ·å¼ç³»ç»Ÿ)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)

---

## æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç”¨é€” | æ–‡æ¡£ |
|:---|:---|:---|
| Next.js 14 | åº”ç”¨æ¡†æ¶ | [nextjs.org](https://nextjs.org/docs) |
| React 18 | UI åº“ | [react.dev](https://react.dev) |
| TypeScript | ç±»å‹ç³»ç»Ÿ | [typescriptlang.org](https://www.typescriptlang.org/docs/) |
| Zustand | çŠ¶æ€ç®¡ç† | [zustand](https://zustand-demo.pmnd.rs/) |
| CodeMirror 6 | ä»£ç ç¼–è¾‘å™¨ | [codemirror.net](https://codemirror.net/) |
| react-markdown | Markdown æ¸²æŸ“ | [remarkjs](https://remarkjs.github.io/react-markdown/) |
| Framer Motion | åŠ¨ç”»åº“ | [framer.com/motion](https://www.framer.com/motion/) |
| Tailwind CSS | CSS æ¡†æ¶ | [tailwindcss.com](https://tailwindcss.com/docs) |

---

## é¡¹ç›®ç»“æ„

```
src/src/
â”œâ”€â”€ app/                        # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx               # é¦–é¡µå…¥å£
â”‚   â”œâ”€â”€ layout.tsx             # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ globals.css            # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ api/                   # API Routes
â”‚       â”œâ”€â”€ documents/         # æ–‡æ¡£ API ä»£ç†
â”‚       â”‚   â”œâ”€â”€ route.ts       # GET/POST /api/documents
â”‚       â”‚   â””â”€â”€ [id]/route.ts  # GET/DELETE /api/documents/:id
â”‚       â”œâ”€â”€ settings/route.ts  # è®¾ç½® API ä»£ç†
â”‚       â”œâ”€â”€ translate/route.ts # ç¿»è¯‘ API ä»£ç†
â”‚       â””â”€â”€ example/           # ç¤ºä¾‹æ–‡ä»¶ API
â”‚           â”œâ”€â”€ route.ts       # åŠ è½½ç¤ºä¾‹ README
â”‚           â””â”€â”€ assets/        # é™æ€èµ„æº
â”‚
â”œâ”€â”€ components/                 # React ç»„ä»¶
â”‚   â”œâ”€â”€ SplitLayout.tsx        # ä¸»å¸ƒå±€ç»„ä»¶ï¼ˆæ ¸å¿ƒï¼‰
â”‚   â”œâ”€â”€ Editor.tsx             # ä»£ç ç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ Preview.tsx            # Markdown é¢„è§ˆ
â”‚   â”œâ”€â”€ UploadZone.tsx         # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”œâ”€â”€ Mermaid.tsx            # Mermaid å›¾è¡¨æ¸²æŸ“
â”‚   â”œâ”€â”€ layout/                # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ index.ts           # å¯¼å‡ºå…¥å£
â”‚   â”‚   â””â”€â”€ Header.tsx         # é¡¶éƒ¨å·¥å…·æ 
â”‚   â”œâ”€â”€ modals/                # å¼¹çª—ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ SettingsModal.tsx  # è®¾ç½®å¼¹çª—
â”‚   â”‚   â””â”€â”€ HistoryModal.tsx   # å†å²è®°å½•å¼¹çª—
â”‚   â”œâ”€â”€ panels/                # é¢æ¿ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ ContentPanel.tsx   # å†…å®¹é¢æ¿
â”‚   â”‚   â””â”€â”€ CollapsedPanel.tsx # æŠ˜å é¢æ¿
â”‚   â””â”€â”€ ui/                    # åŸºç¡€ UI ç»„ä»¶
â”‚       â””â”€â”€ button.tsx
â”‚
â”œâ”€â”€ hooks/                      # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ index.ts               # å¯¼å‡ºå…¥å£
â”‚   â”œâ”€â”€ useTranslation.ts      # ç¿»è¯‘é€»è¾‘
â”‚   â”œâ”€â”€ useDocumentHistory.ts  # å†å²è®°å½•ç®¡ç†
â”‚   â””â”€â”€ useSettings.ts         # è®¾ç½®ç®¡ç†
â”‚
â”œâ”€â”€ store/                      # Zustand çŠ¶æ€
â”‚   â””â”€â”€ useDocumentStore.ts    # æ–‡æ¡£çŠ¶æ€å­˜å‚¨
â”‚
â””â”€â”€ lib/                        # å·¥å…·å‡½æ•°
    â””â”€â”€ utils.ts               # cn() ç­‰å·¥å…·
```

---

## æ ¸å¿ƒç»„ä»¶

### SplitLayout - ä¸»å¸ƒå±€ç»„ä»¶

`SplitLayout` æ˜¯åº”ç”¨çš„æ ¸å¿ƒç»„ä»¶ï¼Œç®¡ç†æ•´ä½“å¸ƒå±€å’Œäº¤äº’é€»è¾‘ã€‚

**èŒè´£ï¼š**
- ç®¡ç†åŒæ /å››æ å¸ƒå±€åˆ‡æ¢
- åè°ƒå„å­ç»„ä»¶çŠ¶æ€
- å¤„ç†é¢æ¿å±•å¼€/æŠ˜å 
- é›†æˆç¿»è¯‘ã€å†å²ã€è®¾ç½®åŠŸèƒ½

```tsx
// src/components/SplitLayout.tsx
"use client";

import React, { useState, useCallback } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { useDocumentStore } from '@/store/useDocumentStore';
import { useTranslation, useDocumentHistory, useSettings } from '@/hooks';

export default function SplitLayout() {
  const { rawContent, translatedContent, layoutMode } = useDocumentStore();
  
  // Custom hooks
  const { isTranslating, startTranslation } = useTranslation();
  const { historyDocs, loadDocument, openHistory } = useDocumentHistory();
  const { settings, openSettings } = useSettings();

  // Panel state
  const [leftExpanded, setLeftExpanded] = useState(null);
  const [rightExpanded, setRightExpanded] = useState(null);

  // æ¸²æŸ“é€»è¾‘...
}
```

**å¸ƒå±€æ¨¡å¼ï¼š**

| æ¨¡å¼ | æè¿° | ä½•æ—¶ä½¿ç”¨ |
|:---|:---|:---|
| `split` | åŒæ å¸ƒå±€ï¼ˆç¼–è¾‘å™¨ + é¢„è§ˆï¼‰ | è¾“å…¥/æŸ¥çœ‹åŸæ–‡æ—¶ |
| `quad` | å››æ å¸ƒå±€ï¼ˆåŸæ–‡ç¼–è¾‘å™¨/é¢„è§ˆ + è¯‘æ–‡ç¼–è¾‘å™¨/é¢„è§ˆï¼‰ | ç¿»è¯‘è¿‡ç¨‹ä¸­/ç¿»è¯‘å®Œæˆå |

---

### Editor - ä»£ç ç¼–è¾‘å™¨

åŸºäº CodeMirror 6 çš„ Markdown ç¼–è¾‘å™¨ã€‚

```tsx
// src/components/Editor.tsx
import CodeMirror from '@uiw/react-codemirror';
import { markdown, markdownLanguage } from '@codemirror/lang-markdown';
import { languages } from '@codemirror/language-data';

interface EditorProps {
  value: string;
  onChange?: (val: string) => void;
  readOnly?: boolean;
}

export default function Editor({ value, onChange, readOnly = false }: EditorProps) {
  return (
    <div style={{ height: '100%', width: '100%', overflow: 'hidden' }}>
      <CodeMirror
        value={value}
        height="100%"
        extensions={[
          markdown({ base: markdownLanguage, codeLanguages: languages })
        ]}
        onChange={(val) => onChange?.(val)}
        readOnly={readOnly}
        theme="light"
        style={{ height: '100%', fontSize: '14px' }}
      />
    </div>
  );
}
```

**ç‰¹æ€§ï¼š**
- Markdown è¯­æ³•é«˜äº®
- ä»£ç å—è¯­è¨€è¯†åˆ«
- åªè¯»æ¨¡å¼æ”¯æŒ
- è‡ªé€‚åº”é«˜åº¦

---

### Preview - Markdown é¢„è§ˆ

ä½¿ç”¨ react-markdown æ¸²æŸ“ Markdown å†…å®¹ï¼Œæ”¯æŒå¤šç§æ‰©å±•ã€‚

```tsx
// src/components/Preview.tsx
import ReactMarkdown from 'react-markdown';
import remarkGfm from 'remark-gfm';
import remarkMath from 'remark-math';
import rehypeKatex from 'rehype-katex';
import rehypeRaw from 'rehype-raw';

export default function Preview({ content }: { content: string }) {
  return (
    <div className="markdown-preview">
      <ReactMarkdown
        remarkPlugins={[remarkGfm, remarkMath]}
        rehypePlugins={[rehypeRaw, rehypeKatex]}
        skipHtml={false}
        components={{
          // è‡ªå®šä¹‰ç»„ä»¶æ¸²æŸ“...
          code({ node, inline, className, children, ...props }) {
            const match = /language-(\w+)/.exec(className || '');
            // Mermaid å›¾è¡¨
            if (!inline && match?.[1] === 'mermaid') {
              return <Mermaid chart={String(children)} />;
            }
            // ä»£ç å—
            return <code className={className} {...props}>{children}</code>;
          },
          // å…¶ä»–è‡ªå®šä¹‰ç»„ä»¶...
        }}
      />
    </div>
  );
}
```

**æ”¯æŒçš„è¯­æ³•æ‰©å±•ï¼š**

| æ’ä»¶ | åŠŸèƒ½ |
|:---|:---|
| `remarkGfm` | GitHub Flavored Markdownï¼ˆè¡¨æ ¼ã€åˆ é™¤çº¿ç­‰ï¼‰ |
| `remarkMath` | æ•°å­¦å…¬å¼è¯­æ³•è§£æ |
| `rehypeKatex` | KaTeX æ•°å­¦å…¬å¼æ¸²æŸ“ |
| `rehypeRaw` | æ”¯æŒå†…åµŒ HTML |

---

### UploadZone - æ–‡ä»¶ä¸Šä¼ 

æ”¯æŒæ‹–æ‹½ä¸Šä¼ å’Œç‚¹å‡»é€‰æ‹©çš„æ–‡ä»¶ä¸Šä¼ ç»„ä»¶ã€‚

```tsx
// src/components/UploadZone.tsx (ç®€åŒ–)
export default function UploadZone() {
  const { setRawContent } = useDocumentStore();

  const handleFile = async (file: File) => {
    const text = await file.text();
    setRawContent(text);
  };

  return (
    <div 
      onDrop={handleDrop}
      onDragOver={(e) => e.preventDefault()}
      className="upload-zone"
    >
      <p>æ‹–æ‹½ Markdown æ–‡ä»¶åˆ°æ­¤å¤„</p>
      <p>æˆ–ç‚¹å‡»é€‰æ‹©æ–‡ä»¶</p>
      <button onClick={loadExample}>åŠ è½½ç¤ºä¾‹</button>
    </div>
  );
}
```

---

### Mermaid - å›¾è¡¨æ¸²æŸ“

æ¸²æŸ“ Mermaid å›¾è¡¨çš„ä¸“ç”¨ç»„ä»¶ã€‚

```tsx
// src/components/Mermaid.tsx
import mermaid from 'mermaid';
import { useEffect, useRef } from 'react';

export default function Mermaid({ chart }: { chart: string }) {
  const ref = useRef<HTMLDivElement>(null);

  useEffect(() => {
    if (ref.current) {
      mermaid.init(undefined, ref.current);
    }
  }, [chart]);

  return <div ref={ref} className="mermaid">{chart}</div>;
}
```

---

## çŠ¶æ€ç®¡ç†

ä½¿ç”¨ Zustand è¿›è¡Œå…¨å±€çŠ¶æ€ç®¡ç†ï¼Œç®€æ´ä¸”é«˜æ•ˆã€‚

### useDocumentStore

```tsx
// src/store/useDocumentStore.ts
import { create } from 'zustand';

export type TranslationDirection = 'en2zh' | 'zh2en';

export interface TranslationChunk {
  id: number;
  chunkIndex: number;
  rawText: string;
  translatedText: string | null;
  status: 'pending' | 'processing' | 'completed' | 'error';
}

interface DocumentState {
  // çŠ¶æ€
  docId: string | null;
  rawContent: string;
  translatedContent: string;
  chunks: TranslationChunk[];
  isTranslating: boolean;
  layoutMode: 'split' | 'quad';
  translationDirection: TranslationDirection; // ç¿»è¯‘æ–¹å‘
  
  // åŠ¨ä½œ
  setDocId: (id: string) => void;
  setRawContent: (content: string) => void;
  setTranslatedContent: (content: string) => void;
  setChunks: (chunks: TranslationChunk[]) => void;
  updateChunk: (index: number, data: Partial<TranslationChunk>) => void;
  setIsTranslating: (isTranslating: boolean) => void;
  setLayoutMode: (mode: 'split' | 'quad') => void;
  setTranslationDirection: (direction: TranslationDirection) => void;
}

export const useDocumentStore = create<DocumentState>((set) => ({
  // åˆå§‹çŠ¶æ€
  docId: null,
  rawContent: '',
  translatedContent: '',
  chunks: [],
  isTranslating: false,
  layoutMode: 'split',
  translationDirection: 'en2zh', // é»˜è®¤è‹±æ–‡ç¿»è¯‘åˆ°ä¸­æ–‡

  // ... åŠ¨ä½œå®ç°
  setTranslationDirection: (direction) => set({ translationDirection: direction }),
}));
```

**çŠ¶æ€è¯´æ˜ï¼š**

| çŠ¶æ€ | ç±»å‹ | è¯´æ˜ |
|:---|:---|:---|
| `docId` | `string \| null` | å½“å‰æ–‡æ¡£ ID |
| `rawContent` | `string` | åŸå§‹ Markdown å†…å®¹ |
| `translatedContent` | `string` | ç¿»è¯‘åçš„å†…å®¹ |
| `chunks` | `TranslationChunk[]` | åˆ†å—ç¿»è¯‘æ•°æ® |
| `isTranslating` | `boolean` | æ˜¯å¦æ­£åœ¨ç¿»è¯‘ |
| `layoutMode` | `'split' \| 'quad'` | å¸ƒå±€æ¨¡å¼ |
| `translationDirection` | `'en2zh' \| 'zh2en'` | ç¿»è¯‘æ–¹å‘ |

---

## è‡ªå®šä¹‰ Hooks

### useTranslation - ç¿»è¯‘é€»è¾‘

å°è£…å®Œæ•´çš„ç¿»è¯‘æµç¨‹ï¼Œæ”¯æŒ**åŒå‘ç¿»è¯‘**å’Œ**å¤šç”¨æˆ·å¹¶å‘**ï¼ˆæ¯ä¸ªæ ‡ç­¾é¡µç‹¬ç«‹çš„è¿æ¥ IDï¼‰ã€‚

```tsx
// src/hooks/useTranslation.ts
import { useMemo } from 'react';

// ç”Ÿæˆå”¯ä¸€çš„è¿æ¥ IDï¼ˆæ¯ä¸ªæµè§ˆå™¨æ ‡ç­¾é¡µä¸€ä¸ªï¼‰
function generateConnectionId(): string {
  return `conn_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;
}

export function useTranslation() {
  const wsRef = useRef<WebSocket | null>(null);
  // æ¯ä¸ª hook å®ä¾‹ä¿æŒä¸€ä¸ªå”¯ä¸€çš„è¿æ¥ IDï¼Œæ”¯æŒå¤šæ ‡ç­¾é¡µå¹¶å‘
  const connectionId = useMemo(() => generateConnectionId(), []);
  
  const { 
    rawContent, 
    translationDirection,  // ç¿»è¯‘æ–¹å‘
    setChunks, 
    updateChunk, 
    setIsTranslating 
  } = useDocumentStore();

  const startTranslation = useCallback(async () => {
    setIsTranslating(true);

    // 1. åˆ›å»ºç¿»è¯‘ä»»åŠ¡ï¼ˆåŒ…å«ç¿»è¯‘æ–¹å‘ï¼‰
    const response = await fetch('/api/translate', {
      method: 'POST',
      body: JSON.stringify({ 
        content: rawContent, 
        title: '...',
        direction: translationDirection  // en2zh æˆ– zh2en
      })
    });
    const data = await response.json();
    setChunks(data.chunks);

    // 2. å»ºç«‹ WebSocket è¿æ¥ï¼ˆåŒ…å« connection_id æ”¯æŒå¤šç”¨æˆ·ï¼‰
    const wsHost = process.env.NEXT_PUBLIC_WS_HOST || `${window.location.hostname}:8000`;
    const ws = new WebSocket(
      `ws://${wsHost}/ws/translate/${data.docId}?conn_id=${connectionId}`
    );
    wsRef.current = ws;

    // 3. å¤„ç†å®æ—¶æ¶ˆæ¯
    ws.onmessage = (event) => {
      const msg = JSON.parse(event.data);
      if (msg.type === 'chunk_update') {
        updateChunk(msg.chunkIndex, {
          translatedText: msg.data.translatedText,
          status: msg.data.status
        });
      } else if (msg.type === 'complete') {
        setIsTranslating(false);
      }
    };
  }, [rawContent]);

  return { isTranslating, startTranslation, closeWebSocket };
}
```

---

### useSettings - è®¾ç½®ç®¡ç†

```tsx
// src/hooks/useSettings.ts
export interface Settings {
  llm_provider: string;
  llm_model: string;
  temperature: number;
  num_chunks: number;
  auto_save: boolean;
}

export function useSettings() {
  const [settings, setSettings] = useState<Settings>(defaultSettings);
  const [showSettings, setShowSettings] = useState(false);

  const loadSettings = useCallback(async () => {
    const res = await fetch('/api/settings');
    const data = await res.json();
    setSettings(data);
  }, []);

  const saveSettings = useCallback(async () => {
    await fetch('/api/settings', {
      method: 'POST',
      body: JSON.stringify({ settings })
    });
  }, [settings]);

  useEffect(() => { loadSettings(); }, []);

  return { settings, updateSettings, saveSettings, showSettings, openSettings, closeSettings };
}
```

---

### useDocumentHistory - å†å²è®°å½•

```tsx
// src/hooks/useDocumentHistory.ts
export function useDocumentHistory() {
  const [historyDocs, setHistoryDocs] = useState<HistoryDoc[]>([]);
  const { setRawContent, setTranslatedContent, setChunks } = useDocumentStore();

  const loadHistory = useCallback(async () => {
    const res = await fetch('/api/documents');
    const data = await res.json();
    setHistoryDocs(data.documents);
  }, []);

  const loadDocument = useCallback(async (id: string) => {
    const res = await fetch(`/api/documents/${id}`);
    const doc = await res.json();
    setRawContent(doc.original_content);
    setTranslatedContent(doc.translated_content);
    setChunks(doc.chunks_data);
  }, []);

  const deleteDocument = useCallback(async (id: string) => {
    await fetch(`/api/documents/${id}`, { method: 'DELETE' });
    loadHistory();
  }, []);

  return { historyDocs, loadDocument, deleteDocument, openHistory, closeHistory };
}
```

---

## API å±‚

å‰ç«¯ä½¿ç”¨ Next.js API Routes ä½œä¸ºä»£ç†å±‚ï¼Œè½¬å‘è¯·æ±‚åˆ°åç«¯ã€‚

### é…ç½®ä»£ç†

```javascript
// src/next.config.mjs
const nextConfig = {
  async rewrites() {
    return [
      { source: '/api/documents/:path*', destination: 'http://127.0.0.1:8000/api/documents/:path*' },
      { source: '/api/translate/:path*', destination: 'http://127.0.0.1:8000/api/translate/:path*' },
      { source: '/api/settings/:path*', destination: 'http://127.0.0.1:8000/api/settings/:path*' },
      { source: '/ws/:path*', destination: 'http://127.0.0.1:8000/ws/:path*' },
    ];
  },
};
```

### ç¦ç”¨ç¼“å­˜

ä¸ºç¡®ä¿è·å–æœ€æ–°æ•°æ®ï¼ŒAPI Routes éœ€è¦ç¦ç”¨ç¼“å­˜ï¼š

```typescript
// src/app/api/documents/route.ts
export const dynamic = 'force-dynamic';
export const revalidate = 0;

export async function GET() {
  const response = await fetch('http://127.0.0.1:8000/api/documents', {
    cache: 'no-store',  // å…³é”®ï¼šç¦ç”¨ç¼“å­˜
  });
  // ...
}
```

---

## æ ·å¼ç³»ç»Ÿ

### Tailwind CSS é…ç½®

```typescript
// src/tailwind.config.ts
import type { Config } from 'tailwindcss';

const config: Config = {
  content: [
    './src/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      colors: {
        // è‡ªå®šä¹‰é¢œè‰²
      },
    },
  },
  plugins: [],
};
```

### å…¨å±€æ ·å¼

```css
/* src/app/globals.css */

/* Markdown é¢„è§ˆæ ·å¼ */
.markdown-preview {
  @apply p-4 prose prose-sm max-w-none;
}

.markdown-preview .md-h1 { @apply text-2xl font-bold mt-6 mb-4; }
.markdown-preview .md-h2 { @apply text-xl font-semibold mt-5 mb-3; }
.markdown-preview .md-p { @apply my-3 leading-relaxed; }
.markdown-preview .md-ul { @apply list-disc pl-6 my-3; }
.markdown-preview .md-ol { @apply list-decimal pl-6 my-3; }
.markdown-preview .md-blockquote { @apply border-l-4 border-gray-300 pl-4 italic; }
.markdown-preview .md-table { @apply w-full border-collapse; }
.markdown-preview .md-th { @apply border px-3 py-2 bg-gray-100; }
.markdown-preview .md-td { @apply border px-3 py-2; }
```

---

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°ç»„ä»¶

1. åœ¨ `src/components/` ä¸‹åˆ›å»ºç»„ä»¶æ–‡ä»¶
2. ä½¿ç”¨ TypeScript å®šä¹‰ Props æ¥å£
3. å¦‚éœ€å…¨å±€çŠ¶æ€ï¼Œä½¿ç”¨ `useDocumentStore`
4. å¦‚éœ€å¤æ‚é€»è¾‘ï¼ŒæŠ½å–åˆ° Hooks

```tsx
// src/components/MyComponent.tsx
import { useDocumentStore } from '@/store/useDocumentStore';

interface MyComponentProps {
  title: string;
  onAction?: () => void;
}

export default function MyComponent({ title, onAction }: MyComponentProps) {
  const { rawContent } = useDocumentStore();
  
  return (
    <div className="my-component">
      <h2>{title}</h2>
      <button onClick={onAction}>æ‰§è¡Œ</button>
    </div>
  );
}
```

### æ·»åŠ æ–° Hook

1. åœ¨ `src/hooks/` ä¸‹åˆ›å»º Hook æ–‡ä»¶
2. åœ¨ `src/hooks/index.ts` ä¸­å¯¼å‡º
3. éµå¾ª `useXxx` å‘½åçº¦å®š

```typescript
// src/hooks/useMyFeature.ts
export function useMyFeature() {
  const [state, setState] = useState();
  
  const doSomething = useCallback(async () => {
    // å®ç°é€»è¾‘
  }, []);
  
  return { state, doSomething };
}

// src/hooks/index.ts
export * from './useTranslation';
export * from './useSettings';
export * from './useDocumentHistory';
export * from './useMyFeature';  // æ·»åŠ å¯¼å‡º
```

### è°ƒè¯•æŠ€å·§

1. **React DevTools**ï¼šæ£€æŸ¥ç»„ä»¶æ ‘å’ŒçŠ¶æ€
2. **Zustand DevTools**ï¼šç›‘æ§çŠ¶æ€å˜åŒ–
3. **Network Tab**ï¼šæ£€æŸ¥ API è¯·æ±‚
4. **Console**ï¼šæŸ¥çœ‹æ—¥å¿—è¾“å‡º

---

## ä¸‹ä¸€æ­¥

- ğŸ”§ [åç«¯å¼€å‘](./04-åç«¯å¼€å‘.md) - äº†è§£åç«¯æ¶æ„
- ğŸ”„ [æ•°æ®æµè®¾è®¡](./05-æ•°æ®æµè®¾è®¡.md) - ç†è§£æ•°æ®æµè½¬
- ğŸ“¡ [API å‚è€ƒ](./06-APIå‚è€ƒ.md) - å®Œæ•´ API æ–‡æ¡£
